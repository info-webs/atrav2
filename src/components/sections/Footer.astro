---
import FooterForm from "@ui/forms/FooterForm.astro";
import ContactInfo from "@common/ContactInfo.astro";
import { site } from "@content/site";

// Props for customization
const companyName = site.title;
const companyDescription = site.description;

// Contact information for the company
const contactDetails = {
  address: `${site.address.street}, ${site.address.locality}`,
  phone: site.phone,
  email: "", // TODO: añadir email oficial
  website: site.url,
};

// Dynamic date for copyright display
const copyrightYear = new Date().getFullYear();

// Developer or team behind the website
const craftedBy = { name: "ATRA Y Obesidad", url: site.url };

// Privacy/trademark notice placeholder
const trademarkNotice = "";
---

<footer
  class="mt-auto w-full bg-linear-to-t/oklch from-teal-200 via-transparent to-white pb-10"
>
  <div class="mx-auto mt-auto w-full max-w-[85rem] px-4 pb-10 sm:px-6 lg:px-8">
    <hr class="mb-10 border-slate-200" />

    <div class="grid grid-cols-2 gap-6 md:grid-cols-5">
      {/* Company Information */}
      <div class="col-span-full self-center xl:col-span-2">
        <a
          href="/"
          class="flex-none text-xl font-semibold text-slate-700 focus:opacity-80 focus:outline-hidden"
          aria-label={companyName}
        >
          {companyName}
        </a>
        <p class="mt-5 text-pretty text-slate-600 lg:w-5/12 xl:w-10/12">
          {companyDescription}
        </p>

        <div class="mt-4">
          <a href={site.social.instagram} class="mr-4 underline">Instagram</a>
          <a href={site.social.facebook} class="underline">Facebook</a>
        </div>
      </div>

      {/* Contact Information Section */}
      <div class="col-span-1 md:col-span-2 xl:col-span-1 xl:col-start-3">
        <h3 class="font-semibold text-slate-700">Contacto</h3>
        <p class="mt-2">{contactDetails.address}</p>
        <p class="mt-2">Tel: <a href={`tel:${contactDetails.phone}`} class="underline">{contactDetails.phone}</a></p>
        <p class="mt-2">Horario: Cita previa / consulta por mensaje.</p>
      </div>

      {/* Email Subscription Form */}
      <div class="col-span-2 md:col-span-3 xl:col-span-2">
        <h3 class="font-semibold text-slate-700">Enlaces</h3>
        <div class="mt-3 flex flex-wrap gap-3 text-sm">
          <a href="/contactar" class="underline">Contactar</a>
          <a href="/blog" class="underline">Blog</a>
          <a href="/legal/aviso-legal" class="underline">Aviso legal</a>
          <a href="/legal/politica-privacidad" class="underline">Política de privacidad</a>
          <a href="/legal/politica-cookies" class="underline">Política de cookies</a>
        </div>
      </div>
    </div>

    {/* Divider before footer's bottom section */}
    <hr class="mb-5 mt-10 border-slate-200" />

    <div
      class="grid gap-y-2 sm:flex sm:items-center sm:justify-between sm:gap-y-0"
    >
      {/* Copyright */}
      <p class="text-sm text-slate-400/50">
        &copy; 2019-{copyrightYear} {companyName}. Todos los derechos reservados.
      </p>

      {/* Trademark / notes (empty by default) */}
      <p class="text-sm text-slate-400/50">
        <Fragment set:html={trademarkNotice} />
      </p>
    </div>
  </div>
</footer>
